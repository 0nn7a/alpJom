import{m as k,u as D,j as R,c as v,o as g,d as I,F as V,f as A,n as B,k as C,b as M,l as S,p as E,q as N,e as F}from"./index-CjV811NR.js";const O=["value","placeholder","disabled","onInput","onKeydown"],T={__name:"OtpInput",props:k({length:{type:Number,default:5},placeholders:{type:Array,default:()=>[]},correctIdx:{type:Array,default:[]},unsureIdx:{type:Array,default:[]},disabled:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:k(["update:modelValue","submit"],["update:modelValue"]),setup(y,{expose:e,emit:p}){const a=y,l=p,w=/^[a-z]$/,r=D(y,"modelValue"),f=R([]),x=(s,t)=>{s&&(f.value[t]=s)},o=()=>{f.value[0].focus()},u=(s,t)=>{const h=s.target.value.toLowerCase().slice(-1);w.test(h)?(r.value[t]=h,f.value[t+1]&&f.value[t+1].focus()):(r.value[t]="",s.target.value="")},c=s=>{var d,_;s.preventDefault(),s.target.value="";const h=s.clipboardData.getData("text").toLowerCase().replace(/[^a-z]/g,"").slice(0,a.length).split("");for(let m=0;m<a.length;m++)r.value[m]=h[m]||"";const n=r.value.findIndex(m=>!m);n!==-1?(d=f.value[n])==null||d.focus():(_=f.value[a.length-1])==null||_.focus()},i=(s,t)=>{var h;s.key==="Backspace"?!r.value[t]&&t>0&&((h=f.value[t-1])==null||h.focus()):(s.key==="Enter"||s.code==="Enter")&&(s.preventDefault(),b())},b=()=>{r.value.every(Boolean)&&l("submit")};return e({focusFirst:o,clearModel:()=>{r.value=Array(a.length).fill("")}}),(s,t)=>(g(),v("form",{class:"flex gap-4",onSubmit:b},[(g(!0),v(V,null,A(r.value,(h,n)=>(g(),v("input",{key:n,ref_for:!0,ref:d=>x(d,n),value:r.value[n],placeholder:a.placeholders[n],disabled:a.disabled,class:B([{"text-green-300":a.correctIdx.includes(n),"text-orange-300":a.unsureIdx.includes(n),"text-zinc-100":!a.correctIdx.includes(n)&&!a.unsureIdx.includes(n),"opacity-50":a.disabled},"w-16 h-18 text-center text-4xl uppercase border border-zinc-500 rounded-lg focus:outline-none focus:ring-1 focus:zinc-100 transition duration-300"]),type:"text",inputmode:"latin",lang:"en",pattern:"[A-Za-z]",maxlength:"1",autocomplete:"off",autocorrect:"off",spellcheck:"false",onInput:d=>u(d,n),onPaste:t[0]||(t[0]=d=>c(d)),onKeydown:d=>i(d,n)},null,42,O))),128)),t[1]||(t[1]=I("button",{type:"submit",class:"hidden"},"submit",-1))],32))}};class ${constructor(e,p=5){this.as=e,this.size=p,this.d=!0,this.ga=Array(p).fill(""),this.cp=Array(p).fill(""),this.ci=[],this.ui=[]}get aa(){return this.as.split("")}get gs(){return this.ga.join("")}setDisabled(e){this.d=e}check(){for(let e=0;e<this.size;e++)this.ga[e]===this.aa[e]?(this.cp[e]=this.aa[e],this.ci.push(e)):this.aa.includes(this.ga[e])&&this.ui.push(e);return this.cp}clearCP(){this.cp=Array(this.size).fill("")}compare(){return this.gs===this.as}}const j={class:"mb-36 h-full w-full flex flex-col justify-center items-center gap-6"},K={class:"flex flex-col gap-4"},z=5,L=6,P="world",U={__name:"GameView",setup(y){const e=C("otpRefs"),p=async o=>{await N(),e.value[o].focusFirst()},a=()=>Array.from({length:L},(o,u)=>{const c=new $(P,z);return u||c.setDisabled(!1),c}),l=R(a()),w=()=>{l.value.forEach(o=>o.setDisabled(!0))},r=async o=>{const u=l.value[o],c=l.value[o+1];u.setDisabled(!0),u.compare()?(alert("BINGOðŸŽ‰ðŸŽ‰ðŸŽ‰"),w()):c&&(c.setDisabled(!1),c.cp=u.check(),await p(o+1))},f=M(()=>l.value.map(o=>o.d).every(Boolean)),x=()=>{l.value=a(),p(0)};return S(()=>{p(0)}),(o,u)=>(g(),v("section",j,[u[0]||(u[0]=I("h1",{class:"text-4xl text-zinc-50"},"Classic Mode",-1)),I("div",K,[(g(),v(V,null,A(6,(c,i)=>F(T,{key:c+"time",ref_for:!0,ref_key:"otpRefs",ref:e,length:z,placeholders:l.value[i].cp,correctIdx:l.value[i].ci,unsureIdx:l.value[i].ui,disabled:l.value[i].d,modelValue:l.value[i].ga,"onUpdate:modelValue":b=>l.value[i].ga=b,onSubmit:b=>r(i)},null,8,["placeholders","correctIdx","unsureIdx","disabled","modelValue","onUpdate:modelValue","onSubmit"])),64))]),f.value?(g(),v("button",{key:0,type:"button",class:"py-3 px-6 text-2xl bg-zinc-800 border border-zinc-900 rounded-lg cursor-pointer transition duration-300 ease-in-out hover:border-zinc-500",onClick:x}," RESTART ")):E("",!0)]))}};export{U as default};
