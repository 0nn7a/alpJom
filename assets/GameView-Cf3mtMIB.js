import{j as d,k as w,c as i,o as f,d as _,F as b,f as z,e as I,t as S}from"./index-IoyNSXAg.js";const B=["value","onInput","onKeydown"],D={__name:"OtpInput",props:{modelValue:{type:String,default:""},length:{type:Number,default:5}},emits:["update:modelValue","submit"],setup(v,{emit:c}){const u=v,m=c,p=/^[a-z]$/,n=d(Array(u.length).fill("")),o=d([]),y=(t,e)=>{t&&(o.value[e]=t)},x=(t,e)=>{const l=t.target.value.toLowerCase().slice(-1);p.test(l)?(n.value[e]=l,o.value[e+1]&&o.value[e+1].focus()):(n.value[e]="",t.target.value="")},k=t=>{var a,h;t.preventDefault(),t.target.value="";const l=t.clipboardData.getData("text").toLowerCase().replace(/[^a-z]/g,"").slice(0,u.length).split("");for(let r=0;r<u.length;r++)n.value[r]=l[r]||"";const s=n.value.findIndex(r=>!r);s!==-1?(a=o.value[s])==null||a.focus():(h=o.value[u.length-1])==null||h.focus()},V=(t,e)=>{var l;t.key==="Backspace"?!n.value[e]&&e>0&&((l=o.value[e-1])==null||l.focus()):(t.key==="Enter"||t.code==="Enter")&&(t.preventDefault(),g())},g=()=>{n.value.every(Boolean)&&m("submit",n.value.join(""))};return w(()=>{o.value[0].focus()}),(t,e)=>(f(),i("form",{class:"flex gap-4",onSubmit:g},[(f(!0),i(b,null,z(n.value,(l,s)=>(f(),i("input",{key:s,ref_for:!0,ref:a=>y(a,s),value:n.value[s],class:"w-16 h-18 text-center text-4xl text-zinc-100 uppercase border border-zinc-500 rounded-lg focus:outline-none focus:ring-1 focus:zinc-100 transition duration-300",type:"text",inputmode:"latin",lang:"en",pattern:"[A-Za-z]",maxlength:"1",autocomplete:"off",autocorrect:"off",spellcheck:"false",onInput:a=>x(a,s),onPaste:e[0]||(e[0]=a=>k(a)),onKeydown:a=>V(a,s)},null,40,B))),128)),e[1]||(e[1]=_("button",{type:"submit",class:"hidden"},"submit",-1))],32))}},E={class:"text-5xl text-zinc-100"},L={__name:"GameView",setup(v){const c=d(""),u=d(""),m=p=>{u.value=p};return(p,n)=>(f(),i(b,null,[I(D,{length:5,modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=o=>c.value=o),onSubmit:m},null,8,["modelValue"]),_("p",E,S(u.value),1)],64))}};export{L as default};
